{"version":3,"file":"js/89.8c625641.js","mappings":"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","sources":["webpack://kportal/./src/views/LoginView.vue","webpack://kportal/./src/views/LoginView.vue?5755"],"sourcesContent":["<template>\r\n  <div>\r\n\r\n    <!-- <form class=\"login\" @submit.prevent=\"login\">\r\n     <h1>Sign in</h1>\r\n     <label>Login</label>\r\n     <input required v-model=\"username\" type=\"text\" placeholder=\"username\"/>\r\n     <label>Password</label>\r\n     <input required v-model=\"password\" type=\"password\" placeholder=\"password\"/>\r\n     <hr/>\r\n     <button @click.prevent=\"login\" type=\"submit\">Login</button>\r\n   </form> -->\r\n\r\n   <v-card>\r\n      <v-card-header>\r\n        <v-card-header-text class=\"ma-4\">\r\n          <v-card-title color=\"white\">Вход</v-card-title>\r\n\r\n          <!-- <v-card-subtitle>\r\n            <span class=\"mr-1\">Используйте логин пароль</span>              \r\n          </v-card-subtitle> -->\r\n        </v-card-header-text> \r\n      </v-card-header>\r\n\r\n      <v-container>\r\n      <v-form\r\n        ref=\"form\"\r\n        v-model=\"valid\"\r\n        lazy-validation\r\n        @submit.prevent=\"login\"\r\n      >\r\n\r\n        <v-text-field\r\n          v-model=\"username\"\r\n          \r\n          :rules=\"nameRules\"\r\n          label=\"Логин\"\r\n          variant=\"outlined\"\r\n          required\r\n        ></v-text-field>\r\n\r\n         <v-text-field\r\n            v-model=\"password\"\r\n            name=\"input-10-1\"\r\n            label=\"Пароль\"\r\n            hint=\"Минимальное количество символов\"          \r\n            type=\"password\"      \r\n            variant=\"outlined\"     \r\n          ></v-text-field>\r\n        <v-container \r\n            align=\"center\">\r\n            <v-btn \r\n            @click.prevent=\"login\"\r\n            type=\"submit\" \r\n            color=\"primary\"\r\n          >\r\n            Войти\r\n          </v-btn>\r\n        </v-container>\r\n\r\n\r\n      </v-form>\r\n      </v-container>\r\n\r\n      <v-divider></v-divider>\r\n\r\n      <v-card-actions class=\"justify-center\">\r\n        <v-btn @click=\"toRegister\">Регистрация</v-btn>\r\n        <v-btn @click=\"remindPassword\" >Напомнить пароль</v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: 'Login',\r\n  props: {\r\n  },\r\n  data(){\r\n    return{\r\n        user: {},\r\n        username: \"\",\r\n        password: \"\",\r\n        valid: true,\r\n        name: '',\r\n        nameRules: [\r\n          v => !!v || 'Name is required',\r\n          v => (v && v.length <= 10) || 'Name must be less than 10 characters',\r\n        ],\r\n        email: '',\r\n        emailRules: [\r\n          v => !!v || 'E-mail is required',\r\n          v => /.+@.+\\..+/.test(v) || 'E-mail must be valid',\r\n        ],\r\n    }\r\n  },\r\n  components:{},\r\n  created(){\r\n    console.log('created login')\r\n    //console.log(this.$store.state.backendUrl)//getters.getServerUrl)\r\n    //this.loadListSettings()\r\n  },\r\n  methods:{   \r\n    toRegister(){\r\n      console.log('register')\r\n      this.$router.push('/reg/new/')\r\n    },\r\n    remindPassword(){\r\n      console.log('remind password')\r\n      \r\n      this.$router.push('/reg/remind/')\r\n    },\r\n    // validate () {\r\n    //   this.$refs.form.validate()\r\n    // },\r\n    // reset () {\r\n    //   this.$refs.form.reset()\r\n    // },\r\n    // resetValidation () {\r\n    //   this.$refs.form.resetValidation()\r\n    // },\r\n    login: function () {\r\n      let username = this.username\r\n      let password = this.password\r\n      // console.log('url')\r\n      // console.log(`${this.$store.getters.getServerUrl}/auth/jwt/create`)\r\n      axios.post(`${this.$store.getters.getServerUrl}/auth/jwt/create`,{username: this.username, password: this.password})\r\n      .then( res => {\r\n          localStorage.setItem('access_token', res.data.access)\r\n          localStorage.setItem('refresh_token', res.data.refresh)\r\n          localStorage.setItem('tmp_username', username)\r\n          this.$store.commit('setStateAuth', true)\r\n          // this.$forceUpdate();\r\n          this.$router.push(\"/\")\r\n\r\n          \r\n      })\r\n      .catch(function (error) {\r\n          console.log('error')\r\n          console.log(error)\r\n      })\r\n      /*\r\n      this.$store.dispatch('login', { login, password })\r\n      .then(() => this.$router.push('/'))\r\n      .catch(err => console.log(err))//*/\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./LoginView.vue?vue&type=template&id=73d56934\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\motyh\\\\WebstormProjects\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementBlock","_createVNode","_component_v_card","_component_v_card_header","_component_v_card_header_text","class","_component_v_card_title","color","_component_v_container","_component_v_form","ref","$data","$event","onSubmit","$options","_component_v_text_field","rules","label","variant","required","name","hint","type","align","_component_v_btn","onClick","_component_v_divider","_component_v_card_actions","props","data","user","username","password","valid","nameRules","v","length","email","emailRules","test","components","created","console","log","methods","toRegister","this","$router","push","remindPassword","login","axios","$store","getters","getServerUrl","then","res","localStorage","setItem","access","refresh","commit","catch","error","__exports__","render"],"sourceRoot":""}