"use strict";(self["webpackChunkkportal"]=self["webpackChunkkportal"]||[]).push([[89],{1089:function(e,t,l){l.r(t),l.d(t,{default:function(){return U}});var a=l(3396),r=l(9242),s=l(2882),o=l(1489),n=l(7783),u=l(7400),i=l(6572),m=l(1334),d=l(4075),c=l(6422),h=l(3369),p=l(2902);const w=(0,a.Uk)("Вход"),f=(0,a.Uk)(" Войти "),g=(0,a.Uk)("Регистрация"),k=(0,a.Uk)("Напомнить пароль");function _(e,t,l,_,v,W){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(o._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n.k,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u.B,{class:"ma-4"},{default:(0,a.w5)((()=>[(0,a.Wm)(i.E,{color:"white"},{default:(0,a.w5)((()=>[w])),_:1})])),_:1})])),_:1}),(0,a.Wm)(h.K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c.O,{ref:"form",modelValue:v.valid,"onUpdate:modelValue":t[2]||(t[2]=e=>v.valid=e),"lazy-validation":"",onSubmit:(0,r.iM)(W.login,["prevent"])},{default:(0,a.w5)((()=>[(0,a.Wm)(p.h,{modelValue:v.username,"onUpdate:modelValue":t[0]||(t[0]=e=>v.username=e),rules:v.nameRules,label:"Логин",variant:"outlined",required:""},null,8,["modelValue","rules"]),(0,a.Wm)(p.h,{modelValue:v.password,"onUpdate:modelValue":t[1]||(t[1]=e=>v.password=e),name:"input-10-1",label:"Пароль",hint:"Минимальное количество символов",type:"password",variant:"outlined"},null,8,["modelValue"]),(0,a.Wm)(h.K,{align:"center"},{default:(0,a.w5)((()=>[(0,a.Wm)(s.T,{onClick:(0,r.iM)(W.login,["prevent"]),type:"submit",color:"primary"},{default:(0,a.w5)((()=>[f])),_:1},8,["onClick"])])),_:1})])),_:1},8,["modelValue","onSubmit"])])),_:1}),(0,a.Wm)(d.J),(0,a.Wm)(m.h,{class:"justify-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(s.T,{onClick:W.toRegister},{default:(0,a.w5)((()=>[g])),_:1},8,["onClick"]),(0,a.Wm)(s.T,{onClick:W.remindPassword},{default:(0,a.w5)((()=>[k])),_:1},8,["onClick"])])),_:1})])),_:1})])}var v=l(6265),W=l.n(v),b={name:"Login",props:{},data(){return{user:{},username:"",password:"",valid:!0,name:"",nameRules:[e=>!!e||"Name is required",e=>e&&e.length<=10||"Name must be less than 10 characters"],email:"",emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"]}},components:{},created(){console.log("created login")},methods:{toRegister(){console.log("register"),this.$router.push("/reg/new/")},remindPassword(){console.log("remind password"),this.$router.push("/reg/remind/")},login:function(){let e=this.username;this.password;W().post(`${this.$store.getters.getServerUrl}/auth/jwt/create`,{username:this.username,password:this.password}).then((t=>{localStorage.setItem("access_token",t.data.access),localStorage.setItem("refresh_token",t.data.refresh),localStorage.setItem("tmp_username",e),this.$store.commit("setStateAuth",!0),this.$router.push("/")})).catch((function(e){console.log("error"),console.log(e)}))}}},V=l(89);const C=(0,V.Z)(b,[["render",_]]);var U=C}}]);
//# sourceMappingURL=89.8c625641.js.map